(this["webpackJsonptp-react-pwa"]=this["webpackJsonptp-react-pwa"]||[]).push([[0],{36:function(e,a,t){},66:function(e,a,t){e.exports=t(98)},71:function(e,a,t){},77:function(e,a,t){},98:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),o=t.n(l),i=(t(71),t(72),t(107)),c=t(105),s=t(101);var u=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(i.a.Brand,{href:"/"},r.a.createElement("img",{className:"app-logo",alt:"Les saveurs jamaicaines logo"})),r.a.createElement(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(i.a.Collapse,null,r.a.createElement(c.a,{className:"mr-auto"},r.a.createElement(c.a.Link,{href:"#link"},r.a.createElement(s.a,{href:"/nos-plats",variant:"outline-warning",className:"py-1"},"Toutes nos sp\xe9cialit\xe9s"))))))};var m=function(){return r.a.createElement("footer",null,r.a.createElement("p",{className:"m-0 text-center copyRight"},"Copyright \xa9 Saveurs jamaicaines 2020"))},p=t(32),d=t(6),h=t(9),f=t.n(h),v=t(16),E=t(108),g=t(62),b=t(106),P=t(102),N=t(103),O=t(45),j=t(7),y=(t(77),function(e){return function(a){return"translate3d(0, ".concat(.625*Math.sin(a+e*Math.PI),"rem, 0)")}}),S=[{id:1,nom:"Rago\xfbt de Boeuf",description:"Le rago\xfbt de boeuf de grand-maman \xe0 la jama\xefcaine. Un plat r\xe9confortant, cuisin\xe9 avec amour. C'est le meilleur !",prix:19.15,photoSrc:"../../assets/img/plats/ragoutBoeuf.jpg"},{id:2,nom:"Crevette Rasta",description:"La meilleur crevette Rasta \xe0 notre fa\xe7on ! Rien de mieux que des crevettes au barbecue pour vous regaler en famille.",prix:20.99,photoSrc:"../../assets/img/plats/crevetteRasta.jpg"},{id:3,nom:"Poulet Kingston",description:"Cuisin\xe9 \xe0 base d'une grande vari\xe9t\xe9 d'\xe9pices des \xeeles, le poulet \xe0 la Jama\xefcaine est l\u2019un des plats les plus populaires.",prix:23.25,photoSrc:"../../assets/img/plats/pouletKingston.jpg"},{id:4,nom:"Saut\xe9 d'\xe9crevisses Jama\xefcains",description:"Appell\xe9 aussi 'Zion Crawfish', son go\xfbt frais, fluviale et ses \xe9pices color\xe9es stimuleront vos papilles. Que du bonheur !",prix:12.99,photoSrc:"../../assets/img/plats/ecrevisses.jpg"},{id:5,nom:"Curry de Poisson S\xe9ch\xe9",description:"Le go\xfbt, la saveur du poisson ainsi que l'onctuosit\xe9 de la sauce au curry en font la sp\xe9cialit\xe9 favorite des Jama\xefcains.",prix:23.15,photoSrc:"../../assets/img/plats/Poisson-Curry.jpg"},{id:6,nom:'Ch\xe8vre en Rago\xfbt "Jah Love"',description:"Voici un plat traditionnel des plaines de Montego Bay. Il est agr\xe9ment\xe9 d'une sauce aux 10 \xe9pices et aux piments rouges.",prix:8.99,photoSrc:"../../assets/img/plats/chevre-Ragout.jpg"}];function k(e){var a=e.platData;return r.a.createElement(E.a,{className:"mt-4"},r.a.createElement(E.a.Img,{variant:"top",src:a.photoSrc,alt:a.nom}),r.a.createElement(E.a.Body,{className:"background_grey_dark_color plat-du-jour-content"},r.a.createElement(E.a.Title,{className:"green_color"},a.nom),r.a.createElement(E.a.Text,{className:"gray_white_color"},a.description),r.a.createElement(E.a.Text,{className:"yellow_color price"},a.prix," $"),r.a.createElement(s.a,{variant:"outline-secondary orderBtn",onClick:function(){j.a.info("D\xe9sol\xe9! limite de commandes maximale atteint pour aujourd'hui.",{position:j.a.POSITION.TOP_RIGHT})}},"Commander")))}var w=function(){var e=Object(O.b)({to:function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,a({radians:2*Math.PI});case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),from:{radians:0},config:{duration:3500},reset:!0}).radians;if(0===S.length)return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h3",null,"Aucun plat populaire disponible pour le moment "));var a=S.map((function(a,t){return r.a.createElement(g.a,{sm:"6",md:"4"},r.a.createElement(O.a.div,{key:t,className:"script-bf-box",style:{transform:e.interpolate(y(t))}},r.a.createElement(k,{key:t,platData:a})))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:""},r.a.createElement(b.a.Item,{className:"position-relative"},r.a.createElement("img",{className:"d-block w-100",src:"../../assets/img/header-bg/bg1.jpg",alt:"Les meilleurs d\xe9lices \xe0 la jama\xefcaine"}),r.a.createElement(b.a.Caption,{className:"captionTitle position-absolute p-0"},r.a.createElement("h2",{className:"h2Carousel"},"Les D\xe9lices Exotiques Jama\xefcains"),r.a.createElement("h4",{className:"subTitle d-none d-md-block d-lg-block"},"Vous en Aurez pour vos Papilles"))),r.a.createElement(b.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"../../assets/img/header-bg/bg2.jpg",alt:"Saveurs jamaicaines"}),r.a.createElement(b.a.Caption,{className:"captionTitle position-absolute p-0"},r.a.createElement("h2",{className:"h2Carousel"},"Saveurs Jama\xefcaines"),r.a.createElement("h4",{className:"subTitle d-none d-md-block d-lg-block"},"La Meilleure des Cuisines Cara\xefb\xe9ennes")))),r.a.createElement("div",{className:"container plats-populaires-conteneur"},r.a.createElement("br",null),r.a.createElement("h2",null,"Les plats du jour"),r.a.createElement("hr",null),r.a.createElement(P.a,{fluid:!0},r.a.createElement(N.a,{className:"album-list"},a)),r.a.createElement("hr",null),r.a.createElement(s.a,{variant:"outline-secondary",href:"/nos-plats"},"VOIR NOS AUTRES PLATS")))},x=t(29),I={url:"https://crudcrud.com/api/1154f245945749f4990ef0a274da3aa6"},C=t(30),T=t.n(C),L={obtenirTousLesPlats:function(){return Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(I.url+"/plat");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},obtenirUnPlat:function(e){return Object(v.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.a.get(I.url+"/plat/"+e);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},ajouterNouveauPlat:function(e){return T.a.post(I.url+"/plat",e)},modifierPlat:function(e,a){return T.a.put(I.url+"/plat/"+e,a)},supprimerPlat:function(e){return T.a.delete(I.url+"/plat/"+e)}};t(36);j.a.configure();var R=function(e){var a=e.platData,t=Object(n.useState)(!1),l=Object(x.a)(t,2),o=l[0],i=l[1];return o?r.a.createElement(d.a,{to:"/nos-plats"}):r.a.createElement(N.a,{className:"plat-carte-container"},r.a.createElement(g.a,{sm:"12",md:"12",lg:"4",xl:"4",className:"plat-image"},r.a.createElement("img",{src:a.photoUrl,alt:a.nom})),r.a.createElement(g.a,{sm:"12",md:"12",lg:"6",xl:"6",className:"plat-infos"},r.a.createElement("h3",null,a.nom),r.a.createElement("hr",{className:"bg-hr"}),r.a.createElement("p",null,a.description)),r.a.createElement(g.a,{sm:"12",md:"12",lg:"1",xl:"2",className:"actions-btn pt-md-4 pt-lg-4"},r.a.createElement(s.a,{variant:"outline-success",href:"/plat/"+a._id},"Voir plus"),r.a.createElement(s.a,{variant:"outline-warning",href:"/modifier-plat/"+a._id},"Modifier"),r.a.createElement(s.a,{variant:"outline-danger",onClick:function(){return function(e){try{L.supprimerPlat(e),j.a.success("Plat supprim\xe9 avec succ\xe8s!",{position:j.a.POSITION.TOP_RIGHT}),i(!0)}catch(a){console.error("error : "+a),j.a.error("Error lors de la suppression du plat! Veuillez recommencer svp.",{position:j.a.POSITION.TOP_RIGHT}),i(!1)}}(a._id)}},"Supprimer")))};var U=function(){var e=Object(n.useState)([]),a=Object(x.a)(e,2),t=a[0],l=a[1],o=Object(d.g)();if(Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.obtenirTousLesPlats();case 2:a=e.sent,l(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{!function(){e.apply(this,arguments)}()}catch(a){console.error("error : "+a)}}),[o.key]),0===t.length)return r.a.createElement("div",{className:"text-center"},r.a.createElement("br",null),r.a.createElement("h3",null,"Aucun plat trouv\xe9 pour le moment "));var i=t.map((function(e,a){return r.a.createElement(R,{key:a,platData:e})}));return r.a.createElement("div",{className:"container plat-carte-list-container"},r.a.createElement(N.a,null,r.a.createElement(g.a,{sm:"12",md:"9"},r.a.createElement("h2",null,"Nos Sp\xe9cialit\xe9s")),r.a.createElement(g.a,{sm:"12",md:"3",className:"actions-btn"},r.a.createElement(s.a,{variant:"outline-secondary",href:"/ajouter-plat"},"Ajouter un plat"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"plat-carte-list-container"},i))};var _=function(){var e=Object(d.h)().id,a=Object(n.useState)(null),t=Object(x.a)(a,2),l=t[0],o=t[1];return Object(n.useEffect)((function(){function a(){return(a=Object(v.a)(f.a.mark((function a(){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.obtenirUnPlat(e);case 2:t=a.sent,o(t.data);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}try{!function(){a.apply(this,arguments)}()}catch(t){console.error("error : "+t)}})),null===l?r.a.createElement("div",{className:"text-center"},r.a.createElement("br",null),r.a.createElement("h3",null,"Aucun detail trouv\xe9 pour ce plat! Veuillez recharger la page ")):r.a.createElement("div",{className:"container plat-carte-list-container pb-5"},r.a.createElement(N.a,null,r.a.createElement(g.a,{sm:"12",md:"9"},r.a.createElement("h2",null,l.nom)),r.a.createElement(g.a,{sm:"12",md:"3",className:"actions-btn"},r.a.createElement(s.a,{variant:"outline-secondary",href:"/modifier-plat/"+l._id},"Modifier"))),r.a.createElement("hr",null),r.a.createElement(N.a,{className:"plat-detail-container"},r.a.createElement(g.a,{sm:"12",md:"4",className:"plat-infos"},r.a.createElement("img",{src:l.photoUrl,alt:l.nom})),r.a.createElement(g.a,{sm:"12",md:"8",className:"plat-infos"},r.a.createElement("p",null,l.description),r.a.createElement("div",{className:"text-center background_gradient py-2 mb-3"},r.a.createElement("h4",{className:"text-center text-light"},"Vous aimeriez pr\xe9parer ce plat chez vous ?"," ")),r.a.createElement("h5",null,"Liste des ingr\xe9dients :"),r.a.createElement("div",{className:"",dangerouslySetInnerHTML:{__html:l.ingredientsList}}))),r.a.createElement(N.a,null,r.a.createElement(g.a,{sm:"12",md:"12",className:"recette-infos"},r.a.createElement("hr",null),r.a.createElement("h5",null,"Pr\xe9paration de la recette :"),r.a.createElement("div",{className:"",dangerouslySetInnerHTML:{__html:l.preparationRecette}}))))},V=t(14),F=t(20),A=t(11),M=t(18),D=t(17),G=t(104);j.a.configure();var z=function(e){Object(M.a)(t,e);var a=Object(D.a)(t);function t(e){var n;return Object(V.a)(this,t),(n=a.call(this,e)).setFormValidated=function(e){n.setState({isFormValidated:e})},n.handleNomPlat=function(e){n.setState({nom:e.target.value})},n.handleDescriptionPlat=function(e){n.setState({description:e.target.value})},n.handleIngredientsPlat=function(e){n.setState({ingredientsList:e.target.value})},n.handlePreparationPlat=function(e){n.setState({preparationRecette:e.target.value})},n.handlePhotoUrlPlat=function(e){n.setState({photoUrl:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),e.stopPropagation(),n.setFormValidated(!0);var a=n.state,t=a.platId,r=a.nom,l=a.description,o=a.ingredientsList,i=a.preparationRecette,c=a.photoUrl,s={nom:r,description:l,ingredientsList:o,preparationRecette:i,photoUrl:c};if(r&&l&&c)try{var u=null;t?(L.modifierPlat(t,s),u="Plat modifi\xe9 avec succ\xe8s! Merci de recharger la page si la modification se voie pas"):(L.ajouterNouveauPlat(s),u="Nouveau plat ajout\xe9 avec succ\xe8s! Merci de recharger la page si le plat s'affiche"),j.a.success(u,{position:j.a.POSITION.TOP_RIGHT}),n.setState({isPlatCreatedOrUpdated:!0})}catch(m){j.a.error("Error lors de l'ajout/modification du plat! Veuillez recommencer svp.",{position:j.a.POSITION.TOP_RIGHT}),n.setState({isPlatCreatedOrUpdated:!1})}else j.a.error("Certains champs du formulaire sont invalides! Veuillez v\xe9rifier vos entr\xe9es svp.",{position:j.a.POSITION.TOP_RIGHT})},n.state={platId:null,isFormValidated:!1,isPlatCreatedOrUpdated:!1,nom:"",description:"",ingredientsList:"",preparationRecette:"",photoUrl:""},n.handleNomPlat=n.handleNomPlat.bind(Object(A.a)(n)),n.handleDescriptionPlat=n.handleDescriptionPlat.bind(Object(A.a)(n)),n.handleIngredientsPlat=n.handleIngredientsPlat.bind(Object(A.a)(n)),n.handlePreparationPlat=n.handlePreparationPlat.bind(Object(A.a)(n)),n.handlePhotoUrlPlat=n.handlePhotoUrlPlat.bind(Object(A.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(A.a)(n)),n}return Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var a,t,n,r,l,o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.match.params.id){e.next=4;break}e.next=17;break;case 4:return this.setState({platId:a}),e.prev=5,e.next=8,L.obtenirUnPlat(a);case 8:t=e.sent,n=t.data,r=n.nom,l=n.description,o=n.ingredientsList,i=n.preparationRecette,c=n.photoUrl,this.setState({nom:r,description:l,ingredientsList:o,preparationRecette:i,photoUrl:c}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("error : "+e.t0),j.a.error("Error : aucun Identifiant de plat fourni.",{position:j.a.POSITION.TOP_RIGHT});case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderFormHeader",value:function(){var e=this.state.platId;return r.a.createElement("div",null,e?r.a.createElement("h2",null,"Modification de plat "):r.a.createElement("h2",null,"Ajout de plat"),r.a.createElement("hr",null))}},{key:"renderFormBody",value:function(){var e=this.state,a=e.platId,t=e.nom,n=e.description,l=e.ingredientsList,o=e.preparationRecette,i=e.photoUrl;return r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement(G.a,{className:"login-form",noValidate:!0,validated:this.state.isFormValidated,onSubmit:this.handleSubmit},r.a.createElement(G.a.Group,{controlId:"validation1"},r.a.createElement(G.a.Label,null,"Nom du plat*"),r.a.createElement(G.a.Control,{required:!0,type:"text",name:"nomPlat",placeholder:"Nom du plat",value:t,onChange:this.handleNomPlat}),r.a.createElement(G.a.Control.Feedback,{type:"invalid"},"Veuillez entrer un nom du plat valide.")),r.a.createElement(G.a.Group,{controlId:"validation2"},r.a.createElement(G.a.Label,null,"Description du plat*"),r.a.createElement(G.a.Control,{required:!0,as:"textarea",rows:"3",placeholder:"Description du plat",value:n,onChange:this.handleDescriptionPlat}),r.a.createElement(G.a.Control.Feedback,{type:"invalid"},"Veuillez entrer une description du plat valide.")),r.a.createElement(G.a.Group,{controlId:"validation3"},r.a.createElement(G.a.Label,null,"Url de la photo du plat*"),r.a.createElement(G.a.Control,{required:!0,type:"text",placeholder:"Url de la photo du plat",value:i,onChange:this.handlePhotoUrlPlat}),r.a.createElement(G.a.Control.Feedback,{type:"invalid"},"Veuillez entrer une url valide de la photo du plat.")),r.a.createElement("br",null),r.a.createElement("h5",null,"Informations sur la pr\xe9paration de la recette"," ",r.a.createElement("small",null,"(optionnelles)")),r.a.createElement("hr",null),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,"List des ingr\xe9dients"),r.a.createElement(G.a.Control,{as:"textarea",rows:"5",placeholder:"List des ingr\xe9dients",value:l,onChange:this.handleIngredientsPlat})),r.a.createElement(G.a.Group,null,r.a.createElement(G.a.Label,null,"Pr\xe9paration du plat"),r.a.createElement(G.a.Control,{as:"textarea",rows:"10",placeholder:"Pr\xe9paration du plat",value:o,onChange:this.handlePreparationPlat})),r.a.createElement(s.a,{className:"btn btn-warning",size:"lg",type:"submit",onClick:this.handleSubmit},a?"Modifier":"Ajouter"))))}},{key:"renderFormContent",value:function(){return r.a.createElement(P.a,{className:"container plat-form-container"},this.renderFormHeader(),this.renderFormBody())}},{key:"render",value:function(){return this.state.isPlatCreatedOrUpdated?r.a.createElement(d.a,{to:"/nos-plats"}):this.renderFormContent()}}]),t}(r.a.Component),H=Object(d.i)(z);var B=function(){return r.a.createElement("div",{className:""},r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:w}),r.a.createElement(d.b,{path:"/nos-plats",component:U}),r.a.createElement(d.b,{path:"/plat/:id",component:_}),r.a.createElement(d.b,{path:"/ajouter-plat",component:H}),r.a.createElement(d.b,{path:"/modifier-plat/:id",component:H}))))};var J=function(){return r.a.createElement("div",{className:""},r.a.createElement(u,null),r.a.createElement(B,null),r.a.createElement(m,null))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat(".","/service-worker.js");W?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(a,e)}))}}()}},[[66,1,2]]]);
//# sourceMappingURL=main.c36169ab.chunk.js.map